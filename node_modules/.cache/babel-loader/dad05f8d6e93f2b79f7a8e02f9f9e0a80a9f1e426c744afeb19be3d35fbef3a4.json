{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jonatas\\\\Desktop\\\\CRM-REACT\\\\src\\\\components\\\\ChartComponent.js\";\nimport React, { useState, useEffect } from 'react';\nimport Chart from 'chart.js/auto';\nimport { Line } from 'react-chartjs-2';\nimport moment from 'moment';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChartComponent = () => {\n  const token = localStorage.getItem('token');\n  const vendasPendentesUltimos30Dias = async () => {\n    try {\n      let allVendasPendentes = [];\n      let currentPage = 0;\n      while (true) {\n        const response = await axios.get(`${process.env.REACT_APP_API_URL}/vendas`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          },\n          params: {\n            page: currentPage,\n            size: 10\n          }\n        });\n        const vendasPendentes = response.data.content.filter(venda => venda.status === 'PENDENTE' && venda.data && moment(new Date(...venda.data)).isAfter(moment().subtract(30, 'days')));\n        allVendasPendentes = allVendasPendentes.concat(vendasPendentes);\n        if (response.data.last) {\n          break;\n        }\n        currentPage++;\n      }\n      return allVendasPendentes.length;\n    } catch (error) {\n      console.error('Erro ao obter as vendas pendentes:', error);\n    }\n  };\n  const data = {\n    labels: [\"Jan\", \"Fev\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"],\n    datasets: [{\n      label: '',\n      // Deixe o label vazio para n達o exibir na legenda\n      data: [0, 59, 80, 81, 56, 55, 65, 59, 80, 81, 56, 55],\n      fill: true,\n      borderColor: \"#006400\"\n    }]\n  };\n  const options = {\n    scales: {\n      y: {\n        type: 'linear',\n        position: 'left'\n      }\n    },\n    plugins: {\n      legend: {\n        display: false // Define para n達o exibir a legenda\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Line, {\n      data: data,\n      options: options\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 7\n  }, this);\n};\n_c = ChartComponent;\nexport default ChartComponent;\nvar _c;\n$RefreshReg$(_c, \"ChartComponent\");","map":{"version":3,"names":["React","useState","useEffect","Chart","Line","moment","axios","jsxDEV","_jsxDEV","ChartComponent","token","localStorage","getItem","vendasPendentesUltimos30Dias","allVendasPendentes","currentPage","response","get","process","env","REACT_APP_API_URL","headers","Authorization","params","page","size","vendasPendentes","data","content","filter","venda","status","Date","isAfter","subtract","concat","last","length","error","console","labels","datasets","label","fill","borderColor","options","scales","y","type","position","plugins","legend","display","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Jonatas/Desktop/CRM-REACT/src/components/ChartComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Chart from 'chart.js/auto';\r\nimport { Line } from 'react-chartjs-2';\r\nimport moment from 'moment';\r\nimport axios from 'axios';\r\n\r\nconst ChartComponent = () => {\r\n    const token = localStorage.getItem('token');\r\n    const vendasPendentesUltimos30Dias = async () => {\r\n      try {\r\n        let allVendasPendentes = [];\r\n        let currentPage = 0;\r\n    \r\n        while (true) {\r\n          const response = await axios.get(`${process.env.REACT_APP_API_URL}/vendas`, {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n            params: {\r\n              page: currentPage,\r\n              size: 10,\r\n            },\r\n          });\r\n    \r\n          const vendasPendentes = response.data.content.filter(venda =>\r\n            venda.status === 'PENDENTE' &&\r\n            venda.data &&\r\n            moment(new Date(...venda.data)).isAfter(moment().subtract(30, 'days'))\r\n          );\r\n    \r\n          allVendasPendentes = allVendasPendentes.concat(vendasPendentes);\r\n    \r\n          if (response.data.last) {\r\n            break;\r\n          }\r\n    \r\n          currentPage++;\r\n        }\r\n    \r\n        return allVendasPendentes.length;\r\n    \r\n      } catch (error) {\r\n        console.error('Erro ao obter as vendas pendentes:', error);\r\n      }\r\n    };\r\n\r\n    const data = {\r\n      labels: [\"Jan\", \"Fev\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"],\r\n      datasets: [\r\n        {\r\n          label: '', // Deixe o label vazio para n達o exibir na legenda\r\n          data: [0, 59, 80, 81, 56, 55, 65, 59, 80, 81, 56, 55],\r\n          fill: true,\r\n          borderColor: \"#006400\",\r\n        },\r\n      ],\r\n    };\r\n  \r\n    const options = {\r\n      scales: {\r\n        y: {\r\n          type: 'linear',\r\n          position: 'left',\r\n        },\r\n      },\r\n      plugins: {\r\n        legend: {\r\n          display: false, // Define para n達o exibir a legenda\r\n        },\r\n      },\r\n    };\r\n  \r\n    return (\r\n      <div>\r\n        <Line data={data} options={options} />\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  export default ChartComponent;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}